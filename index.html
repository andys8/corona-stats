<!DOCTYPE html>
<html>
  <head>
    <title>Corona Statistics</title>
    <meta name="description" content="" />
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      body {
        font-family: Open Sans, -apple-system, BlinkMacSystemFont, Segoe UI,
          Roboto, Helvetica Neue, Arial, Noto Sans, sans-serif;
        text-rendering: optimizeLegibility;
        font-size: 20px;
        line-height: 1.2;
        text-align: center;
      }
      p {
        margin: 10px;
      }
      footer {
        font-size: 14px;
        color: #aaa;
      }
    </style>
    <script>
      function draw(data) {
        var deaths = `<p><b>${data.total_deaths}</b> Tode (+${data.new_deaths})</p>`;
        var cases = `<p><b>${data.total_cases}</b> FÃ¤lle (+${data.new_cases})</p>`;
        var stats = `<footer>${data.statistic_taken_at}</footer>`;
        var html = `${cases}${deaths}${stats}`.replace(/,/g, ".");
        document.getElementById("root").innerHTML = html;
      }
      var data = null;

      var xhr = new XMLHttpRequest();
      xhr.withCredentials = true;

      xhr.addEventListener("readystatechange", function() {
        if (this.readyState === this.DONE) {
          draw(JSON.parse(this.responseText));
        }
      });

      xhr.open(
        "GET",
        "https://coronavirus-monitor.p.rapidapi.com/coronavirus/worldstat.php"
      );
      xhr.setRequestHeader(
        "x-rapidapi-host",
        "coronavirus-monitor.p.rapidapi.com"
      );
      xhr.setRequestHeader(
        "x-rapidapi-key",
        "3d57d01269msh01a783e1f034ba1p1650e5jsn3f25c642b81f"
      );
      xhr.send(data);
    </script>
  </head>
  <body>
    <div id="root" />
  </body>
</html>
